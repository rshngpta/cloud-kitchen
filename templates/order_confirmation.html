{% extends 'base.html' %}

{% block title %}Order Confirmed - Cloud Kitchen{% endblock %}

{% block content %}
<h1>Order Confirmed!</h1>

<div class="card">
    <h2>Order #{{ order.id }}</h2>
    <p><strong>Status:</strong> {{ order.status }}</p>
    <p><strong>Payment:</strong> {{ order.payment_method }} - {{ order.payment_status }}</p>
    <p><strong>Total:</strong> ${{ "%.2f"|format(order.total_amount) }}</p>
    <p><strong>Date:</strong> {{ order.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
</div>

<h3>Delivery Details</h3>
<p><strong>Name:</strong> {{ order.customer_name }}</p>
<p><strong>Email:</strong> {{ order.customer_email }}</p>
<p><strong>Phone:</strong> {{ order.customer_phone }}</p>
<p><strong>Address:</strong> {{ order.customer_address }}</p>

<h3>Order Items</h3>
<table>
    <thead>
        <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Subtotal</th>
        </tr>
    </thead>
    <tbody>
        {% for item in order.items %}
        <tr>
            <td>{{ item.menu_item.name }}</td>
            <td>{{ item.quantity }}</td>
            <td>${{ "%.2f"|format(item.price) }}</td>
            <td>${{ "%.2f"|format(item.quantity * item.price) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<p>
    <a href="{{ url_for('track_order') }}" class="btn">Track Order</a>
    <a href="{{ url_for('menu') }}" class="btn">Order More</a>
</p>
{% endblock %}

